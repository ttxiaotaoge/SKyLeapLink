# 示例技能 2: 需求评审流程 (Requirements Review Workflow)

这是一个使用工作流技能模板的完整示例。展示如何定义一个跨团队、多阶段的流程。

---

## 📌 技能元信息

```yaml
技能名称: 产品需求评审流程
分类: 流程自动化
复杂度: L3-复杂
涉及部门: 产品、技术、运营、QA、设计
频率: 周 (每周一次评审会)
端到端周期: 3-5个工作日 (通常)
优先级: 高
RACI:
  Responsible: 产品经理（提交）、技术Lead（评估）
  Accountable: 产品总监（最终决策）
  Consulted: 所有部门Lead
  Informed: 团队成员
最后更新: 2024-02-13
版本: 1.0
```

---

## 🎯 流程概览

### 是什么？
从产品需求提交开始，经过多部门评审、优先级排序、资源分配，最后做出上线/延期/废弃决策的完整决策流程。这个流程确保每个需求都经过充分论证，优先级合理，资源充足。

### 流程价值

- 📊 **降低风险**：通过2轮评审（产品/技术），发现需求缺陷和技术风险（缺少这步导致40%的重做）
- ✅ **保证质量**：跨部门讨论确保需求全面、合理（提升18个月后客户满意度8%）
- 🚀 **加快速度**：清晰的流程和决策标准，减少往返讨论（从平均7天缩短到3天）
- 🎯 **对齐资源**：提前识别依赖和资源瓶颈（避免开发中发现"没人做"的情况）

### 关键指标

| 指标 | 目标值 | 当前值 | 计算方法 |
|-----|--------|--------|---------|
| 平均评审周期 | 3天 | 4.2天 | (评审完成日 - 需求提交日) |
| 首次通过率 | 80% | 65% | 无返工需求/总需求数 |
| 一线通过率 | 95% | 88% | 通过产品评审后也通过技术评审/通过产品评审总数 |
| 所需人员 | 最少3个角色 | 4个 | 参与评审的不同角色数 |

---

## 🏗️ 流程架构

### 全景流程图

```
┌─────────────────────────────────────────────────┐
│              产品需求提交                         │
└────────────────────┬────────────────────────────┘
                     │ 检查完整性
                     ↓
      ┌──────────────────────────────┐
      │  文档是否满足submission      │
      │  checklist?                  │
      └──────┬─────────────────┬──────┘
             │ 否              │ 是
             ↓                 ↓
        [打回修改]      产品部初评
             ↑                 │
             │ 修改后重新提交  ↓
             ├─────────────────┘
             ...
             
             ↓ 通过初评
      ┌──────────────────────────────┐
      │  是否需要跨部门讨论？         │
      │  (涉及3个部门或高风险)       │
      └──────┬──────────────┬────────┘
             │ 是           │ 否
             ↓              ↓
        安排研讨会    直接进入技术评估
         (半天内)          │
             │              ↓
             └──→──────────→ 技术评估
                              │
                 ┌────────────┼────────────┐
                 │            │            │
               通过          驳回        延期
                 │            │            │
                 ↓            ↓            ↓
            优先级排序    返回PM修改   加入待选库
                 │            │
                 ↓            ↓
            资源检查      重新提交 →─┐
                 │                   │
        ┌────────┴────────┐          │
        │ 资源充分？       │←─────────┘
        └──┬──────────┬───┘
          是         否
          ↓          ↓
        决策      降低scope
        执行      或延期
```

### 流程角色分工

| 阶段 | 主要执行 | 审批/把关 | 知情方 |
|-----|--------|---------|--------|
| 需求提交 | 产品经理 | - | 技术/运营 |
| 完整性检查 | 产品协调 | 产品Lead | - |
| 初步评估 | 产品Lead | - | CTO |
| 跨部门讨论 | 产品经理(主持) | 各部门Lead | 全员 |
| 技术评估 | 技术Lead | CTO | 产品/QA |
| 优先级排序 | 产品总监 | - | 各部门 |
| 资源分配 | 技术经理 | CTO | 产品 |
| 最终批准 | 产品总监 | 执行官 | 项目成员 |

---

## 📋 流程阶段详细定义

### 📍 阶段 1: 需求提交与完整性检查

**阶段目的**：确保提交的需求文档完整、符合标准，为后续评审做好准备。

**进入条件**
- [ ] 产品经理已识别出新需求或需求变更
- [ ] 初步想法已与技术Lead沟通
- [ ] 已准备需求文档初稿

**输入**

| 输入项 | 来源 | 格式 | 检查标准 |
|------|------|------|---------|
| 产品需求文档 (PRD) | 产品团队 | Google Docs/Markdown | 《PRD模板.md》完整填写 |
| 业务背景 | 产品经理 | 文本/数据 | 清晰说明为什么做这个需求 |
| 用户研究 | UX/产品 | 报告/数据 | 若为新功能需要包含 |
| 竞品分析 | 产品经理 | 报告 | 如果是对标需求 |

**决策树**

```
文档是否完整（所有必填字段已填）？
├─ 否 → 打回给PM，列出缺失项
├─ 是 → 检查是否需要附加资料（用户研究/竞品分析）
    ├─ 是 → 通知PM补充（设置2天deadline）
    └─ 否 → 通过检查，进入初评
```

**具体步骤**

1. 触发提交流程
   - ✅ 检查项：PM在系统中创建需求单，附上PRD链接
   - 📊 输出: 需求ID生成、自动邮件通知评审团队
   - ⏱️ 预计时间: 5分钟（PM操作）

2. 完整性检查
   - ✅ 检查项：
     - [ ] 需求标题清晰
     - [ ] 问题描述和背景完整
     - [ ] 目标用户明确
     - [ ] 成功指标可量化
     - [ ] 非功能性需求（性能/安全）已说明
     - [ ] 风险识别已列出
   - 📊 输出: 《完整性检查单》（通过/驳回）
   - ⏱️ 预计时间: 15分钟

3. 补充资料收集
   - ✅ 检查项：如需用户研究/竞品分析，要求补充并审阅
   - 📊 输出: 资料清单与更新通知
   - ⏱️ 预计时间: 1-2个工作日

4. 转入初评
   - ✅ 检查项：所有检查项完成，系统自动流转到下一阶段
   - 📊 输出: 初评任务自动分配给产品Lead
   - ⏱️ 预计时间: 2分钟

**退出条件**
- [ ] 所有完整性检查项已验证
- [ ] 必要的补充资料已收集
- [ ] 初评负责人已收到通知和清晰的评审要点

**规则和标准**

- 规则1：PRD模板必填字段不能为空，否则自动打回
- 规则2：如果需求涉及信息安全相关，必须征求安全团队意见
- 规则3：大型需求（>40小时估算）必须包含风险评估和mitigation计划
- 规则4：所有文档链接必须是公开/团队可访问的

**常见问题和解决方案**

| 问题 | 原因 | 解决方案 | 联系人 |
|-----|-----|---------|--------|
| PM忘记填写某些字段 | 流程不熟悉/文档不清 | 提供填写提示和例子 | 产品Lead |
| 没有用户研究数据 | 快速需求，没时间研究 | 允许提交假设版本，后续验证 | 产品总监 |
| 链接权限问题 | 文档设置为私密 | 提醒PM更改分享权限 | PM |
| 非常紧急 | P0事项或客户需求 | 启动加急流程，24小时完成评审 | CTO |

**异常处理**

| 异常 | 触发条件 | 处理方式 | 后续步骤 |
|-----|--------|---------|---------|
| 文档严重不完整 | 缺失>3个必填字段 | 打回，可选：PM补充或取消 | 重新提交 |
| 超期未补充 | 补充deadline后无反应 | 邮件+Slack双提醒1次 | 若仍未补充则自动关闭 |
| P0紧急需求 | 标记为P0和critical | 立即启动加急评审 | 直接进技术评估 |

---

### 📍 阶段 2: 产品初步评估

**阶段目的**：产品侧深入评审需求的合理性、优先级、与战略对齐度。

**进入条件**
- [ ] 完整性检查已通过
- [ ] 所有补充资料已收集
- [ ] 产品Lead已收到评审任务通知

**输入**

| 输入项 | 来源 | 格式 |
|------|------|------|
| 详细PRD | 完整性检查输出 | 在线文档 |
| 历史context | 产品Lead知识库 | 文本/链接 |
| 战略方向 | 公司OKR | 文档 |

**决策树**

```
需求是否符合当前战略方向？
├─ 明确符合（直接支持OKR）→ 战略对齐度 = 高
├─ 尚可协调（间接支持）→ 战略对齐度 = 中
└─ 冲突/无关 → 战略对齐度 = 低

需求的规模和工作量是否合理？
├─ <8小时 → 规模小
├─ 8-40小时 → 规模中
└─ >40小时 → 规模大，可能需要分解

目标用户清晰且有真实需求吗？
├─ 是 → 用户需求确认度 = 高
├─ 部分确认 → 用户需求确认度 = 中
└─ 待验证 → 用户需求确认度 = 低
```

**具体步骤**

1. 深入理解需求
   - ✅ 检查项：能用1分钟清晰表述这个需求的核心、用户、价值
   - 📊 输出: 产品Lead的理解笔记
   - ⏱️ 预计时间: 20分钟

2. 与PM讨论和澄清
   - ✅ 检查项：至少回答"为什么是这个方案"、"有没有其他选项"
   - 📊 输出: 讨论记录，更新PRD中的unclear points
   - ⏱️ 预计时间: 30分钟 (可选，如有疑问)

3. 评分和初步评论
   - ✅ 检查项：填写《产品评审评分单》
   - 📊 输出: 
     ```yaml
     战略对齐度: 8/10
     用户需求确认度: 7/10
     紧急程度: 5/10
     工作复杂度: 6/10
     初步评论: [反馈意见]
     建议: 通过初评/需要修改/打回
     ```
   - ⏱️ 预计时间: 15分钟

4. 决定下一步
   - ✅ 检查项：确定是否进入跨部门讨论、直接进技术评估、还是需要调整
   - 📊 输出: 自动流转到下一阶段
   - ⏱️ 预计时间: 2分钟

**退出条件**
- [ ] 产品评审评分单已填写
- [ ] 初步评论已提供
- [ ] 下一步决策已做出
- [ ] PM已收到反馈

**规则和标准**

- 规则1：战略对齐度<5分的需求通常被建议延期或打回
- 规则2：用户确认度<6分的需求需要进一步用户研究后重提
- 规则3：若PM对反馈不认同，可请求再讨论1次，但最终由产品总监决策
- 规则4：所有评审意见必须有数据/事实支持，不能是个人偏好

**异常处理**

| 异常 | 触发条件 | 处理 | 后续 |
|-----|--------|------|------|
| 意见不一致 | Lead评分低，PM认为应该高 | 安排讨论会OR升级给产品总监 | 由总监裁决 |
| 需要用户验证 | 需求有假设，无真实用户反馈 | 要求PM验证后重提 | 3周内回复或优先级降低 |

---

### 📍 阶段 3: 跨部门讨论（可选）

**触发条件**
- 需求涉及3个或以上部门 AND 复杂度>=6
- 或存在明显的跨部门依赖或冲突

**参与者**
- 会议主持：产品经理
- 强制参与：技术Lead、QA Lead
- 可选参与：运维、安全、设计等

**流程**
```
1. 会议准备 (PM) - 30分钟
   - 准备清晰的会议议程
   - 分享评审笔记给各部门

2. 技术可行性讨论 (技术Lead) - 30分钟
   - 技术实现方案是否可行？
   - 有没有架构/性能风险？
   - 需要哪些基础设施?

3. 质量和测试讨论 (QA) - 20分钟
   - 质量标准和测试策略
   - 上线前需要验证什么？

4. 其他部门反馈 - 15分钟
   - 运维、安全等补充意见

5. 做出结论 - 15分钟
   - 综合意见，决定是否通过进入技术评估
```

**产。输出**：跨部门讨论记录，所有部门的sign-off

---

### 📍 阶段 4: 技术评估

**阶段目的**：深入技术角度评估需求的可行性、工作量、风险、资源需求。

**进入条件**
- [ ] 产品初评通过（或意见已协商）
- [ ] 跨部门讨论已完成（如适用）
- [ ] 技术Lead已分配

**输入**

| 输入项 | 来源 | 检查项 |
|------|------|--------|
| 完整PRD + 评审意见 | 产品团队 | 技术相关部分清晰 |
| 系统架构图 | 技术文档 | 了解当前系统 |
| 性能指标 | 监控系统 | 了解瓶颈 |

**决策树**

```
技术实现方案是否可行？
├─ 有多个方案，需要比对 → 进行方案对比
├─ 方案已确定且技术可行 → 评估工作量
├─ 存在重大技术风险 → 需要POC或架构评估
└─ 不可行（自身原因） → 标记为blocked，返回产品团队

工作量估算 (T-shirt sizing):
├─ XS: <4小时
├─ S: 4-8小时
├─ M: 8-20小时
├─ L: 20-40小时
└─ XL: >40小时，需要分解
```

**具体步骤**

1. 深入理解需求的技术层面
   - ✅ 检查项：标注所有技术相关的需求项
   - 📊 输出: 技术需求清单
   - ⏱️ 预计时间: 20分钟

2. 技术方案设计
   - ✅ 检查项：
     - 有没有现成的方案可复用？
     - 需要新开发什么？
     - 需要调整哪些现有系统？
   - 📊 输出: 《技术方案文档》
   - ⏱️ 预计时间: 1小时

3. 工作量估算
   - ✅ 检查项：详细分解任务，逐项估算
   - 📊 输出: 《估算表》
     ```
     前端: 10小时
     后端: 15小时
     测试: 8小时
     总计: 33小时 → 标记为 L
     ```
   - ⏱️ 预计时间: 30分钟

4. 风险识别
   - ✅ 检查项：列出所有技术风险，评估impact/probability
   - 📊 输出: 《风险清单和mitigation计划》
     ```
     - 风险1: 数据库性能风险 
       影响度: 高, 概率: 中
       对策: POC验证，如有问题则调整方案
     ```
   - ⏱️ 预计时间: 20分钟

5. 填写评审表
   - ✅ 检查项：填写并通过CTO审阅
   - 📊 输出: 《技术评审表》
     ```yaml
     可行性: 通过/有条件通过/不可行
     估算: 33小时 (L)
     技术风险: 低/中/高
     需要的资源: [列表]
     建议: 通过/需要修改/打回(原因)
     ```
   - ⏱️ 预计时间: 15分钟

**退出条件**
- [ ] 技术方案已定
- [ ] 工作量已估算
- [ ] 风险已识别和评估
- [ ] CTO已提供评审意见
- [ ] PM已收到评审结果

**规则和标准**

- 规则1：所有L以上的需求必须分解为M以下的子任务
- 规则2：包含性能影响的需求必须有性能测试计划
- 规则3：涉及数据库变更的需求必须有DBA review
- 规则4：所有第三方依赖必须已验证可用性和许可

**异常处理**

| 异常 | 触发条件 | 处理 | 后续 |
|-----|--------|------|------|
| 估算严重高于预期 | 工作量>160小时 | 与产品讨论是否缩小scope | 重新提交小需求 |
| 发现重大技术风险 | 风险等级=Critical | 提出POC/研究计划 | 进行POC后决策 |
| 缺少关键资源 | 需要的资源不可得 | 延期或重新规划 | 排队等待 |

---

### 📍 阶段 5: 优先级排序与资源决策

**阶段目的**：综合考虑产品价值、技术复杂度、资源可用性，为所有待选需求排序，决定上线周期和分配资源。

**进入条件**
- [ ] 产品评审已通过
- [ ] 技术评审已通过
- [ ] 工作量已估算

**参与者**
- 决策者：产品总监、技术总监
- 输入：各部门Lead的评审结果

**输入**

| 输入项 | 来源 |
|------|------|
| 所有通过评审的需求list | 前面阶段 |
| 各需求的评分/优先级 | 产品和技术评估 |
| 当前和未来的资源规划 | 技术团队 |
| 战略OKR | 公司层面 |

**决策矩阵**

```
优先级分数 = 
  (战略对齐度 × 40%) 
  + (用户影响度 × 30%)
  + (市场紧迫度 × 20%)
  + (技术成熟度 × 10%)

优先级 P1: 分数>80 + 工作量<=40小时 → 当季上线
优先级 P2: 分数 60-80 → 下季规划或分阶段
优先级 P3: 分数<60 → 待选库，不确定时间
```

**具体步骤**

1. 汇总评审结果
   - 数据来源: 产品评审表 + 技术评审表
   - 输出: 《需求评审汇总表》
   - 时间: 30分钟 (产品团队整理)

2. 计算优先级分数
   - 输出: 每个需求的优先级排名
   - 时间: 20分钟

3. 资源可用性评估
   - 问题: 我们有足够资源做所有P1和P2吗?
   - 如果否: 决策是削减scope还是延期部分需求
   - 输出: 《资源分配计划》

4. 最终决策
   - 决策者: 产品总监 + 技术总监
   - 输出: 《优先级决策表》，包含上线周期和分配资源

**输出示例**

```markdown
## 需求优先级决策 - Q1 2024

| 需求 | 评分 | 工作量 | 优先级 | 上线周期 | 负责人 |
|-----|------|--------|--------|---------|--------|
| 用户认证2.0 | 85 | 33小时 | P1 | Week1-3 | 张三 |
| 数据导出功能 | 72 | 24小时 | P2 | Week4-5 | 李四 |
| UI优化 | 68 | 16小时 | P2 | Week4 | 王五 |
| 高级搜索 | 58 | 28小时 | P3 | TBD | - |

总计可分配: 120小时/季
已分配: 79小时 (66%)
预留buffer: 41小时
```

**退出条件**
- [ ] 所有待评的需求都有优先级决策
- [ ] 资源分配已确认
- [ ] 所有相关方都sign-off了决策
- [ ] PM和技术负责人能清晰表述决策理由

---

### 📍 阶段 6: 排期和团队分配

**阶段目的**：根据优先级决策，将需求分配给具体的团队成员和迭代周期。

**由**: 技术经理/项目经理执行

**具体步骤**：
1. 根据代码ownership分配给相应的工程师或team
2. 分配到具体的Sprint/迭代
3. 创建Jira Epic和子任务
4. 发送分配通知

**输出**: 排期计划，所有相关团队成员已分配任务

---

## 🔀 条件分支和例外流程

### 快速通道：P0紧急需求

```
P0需求识别 
  → 跳过正常流程
  → 直接进行24小时加急评审
  → 由CTO和产品总监快速决策
  → 立即分配资源，启动开发
```

### 回流：返工循环

```
如果在任何阶段遇到"需要修改"：
  1. 返回给PM，列出具体项目
  2. PM修改后，回到上一阶段
  3. 最多允许返工1次
  4. 如果仍不满足，标记为"打回"，进入下个季度考虑
```

---

## ⏰ 时间计划

```
阶段1 (完整性检查): 1-2个工作日
阶段2 (产品初评): 1个工作日
阶段3 (跨部门讨论): 0.5个工作日 (如需)
阶段4 (技术评估): 2-3个工作日
阶段5 (优先级决策): 1个工作日
———————————————————
总计: 正常需求 3-5天, 复杂需求 5-7天
```

### SLA

| 阶段 | SLA | 超期处理 |
|-----|------|---------|
| 完整性检查 | 2天 | 自动归档并邮件提醒PM |
| 产品评审 | 2天 | 升级给产品总监 |
| 技术评审 | 3天 | 升级给CTO |
| 最终决策 | 1天 | 自动通知所有方 |

---

## 📚 支持资源

### 模板和工具
- [PRD写作模板](https://docs.company.com/prd-template)
- [评审评分表](https://sheets.company.com/review-scorecard)
- [需求管理系统](https://jira.company.com/projects/REQUIREMENTS)

### 文档
- [需求管理政策](https://confluence.company.com/requirements-policy)
- [技术评估标准](https://confluence.company.com/tech-assessment)
- [案例研究和最佳实践](https://confluence.company.com/requirements-best-practices)

### 联系人
- 流程owner: [名字] - requirement@company.com
- 产品总监: [名字] - slack
- CTO: [名字] - slack

---

## 🔄 更新日志

| 日期 | 版本 | 变更 |
|------|------|------|
| 2024-02-13 | 1.0 | 初始化版本 |
| 待补充 | 1.1 | 计划加入：自动化评分、LLM辅助撰写评论 |

---

**使用提示**：
这个流程可以通过以下方式优化：
1. 编写脚本自动收集PRD数据
2. 使用LLM辅助生成评论建议
3. 配置Slack集成，自动推送进展
4. 使用AI协助评分和优先级建议

第一次运行这个流程通常需要7-10天。随着团队熟悉，能缩短到3-5天。
